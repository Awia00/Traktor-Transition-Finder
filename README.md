# TraktorAutoNextSong

<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
">
<input type="image" src="https://img.shields.io/badge/paypal-donate-yellow.svg" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>


A small tool for automatically finding the next song to play when DJing using Traktor Pro 2.

The tool works by creating a weighted graph of every song in a Traktor collection of songs, where the weights determine what song is best to mix into. 
The weight is calculated using the BPM of the songs and their different keys. 

The tool is written in F# and Node.js/Electron. The backend is written in F#, and acts as a small web server receiving graph/song requests. 
The frontend is written in Node.js/Electron and sends requests to the F# web server.

When a song is dropped into the app, the best transitions from that song are displayed. 
The DJ can then pick a song from the list in Traktor Pro 2. The app merely functions as a suggestion list.

The app requires Mono (.NET) to run (download [here](http://www.mono-project.com/docs/getting-started/install/mac/)).

#### [Download](https://github.com/andersfischernielsen/TraktorAutoNextSong/releases/latest)

![Screenshot](readme/screenshot.png) 

## How to Use
- Open the app and click the button to find your Traktor collection. 
- Browse to the location of your collection.nml file. ![Screenshot](readme/readme-1.png) 
- Let the app analyse the collection.
- Drag a file from the song list in Traktor into the app to get a list of possible transitions from the song. ![Screenshot](readme/readme-2.png) 

## Building
The app consists of a F# backend handling parsing the Traktor 2 collection, and serving results via HTTP and JSON to the Electron frontend. 

Running the app requires having Mono installed on your system.

You can build the app by opening the solution by running

    cd TraktorAutoNextSong
    xbuild /p:Configuration=Release Project/TraktorAutoNextSong.sln

in your Terminal.

## Running
The F# backend is started by running 

    cd TraktorAutoNextSong
    mono Project/Traktor/bin/Release/Traktor.exe

in your Terminal. 

The frontend is started by running

    cd TraktorAutoNextSong
    electron/node_modules/electron-prebuilt/dist/Electron.app/Contents/MacOS/Electron electron

in your Terminal.


